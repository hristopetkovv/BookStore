<form #editForm="ngForm"
      (ngSubmit)="addBook()"
      autocomplete="off">
    <h2 class="text-center text-primary">Add new book</h2>
    <div class="form-group">
        <label for="fname">Title:</label><br>
        <input type="text"
               class="form-control"
               name="time"
               [(ngModel)]="book.title"
               #title="ngModel"
               required
               maxlength="100">
        <div *ngIf="title.invalid && (title.dirty || title.touched)"
             class="alert alert-danger">
            <div *ngIf="title.errors.required">
                Title is required.
            </div>
            <div *ngIf="title.errors.maxlength">
                Title must be maximum 50 characters long.
            </div>
        </div>
    </div>
    <hr>

    <div class="form-group">
        <label for="fname">Description:</label><br>
        <input type="text"
               class="form-control"
               name="description"
               [(ngModel)]="book.description"
               #description="ngModel"
               required
               maxlength="1000">
        <div *ngIf="description.invalid && (description.dirty || description.touched)"
             class="alert alert-danger">
            <div *ngIf="description.errors.required">
                Description is required.
            </div>
            <div *ngIf="description.errors.maxlength">
                Description must be maximum 1000 characters long.
            </div>
        </div>
    </div>
    <hr>

    <div class="form-group">
        <label for="fname">PublishHouse:</label><br>
        <input type="text"
               class="form-control"
               name="publishHouse"
               [(ngModel)]="book.publishHouse"
               #publishHouse="ngModel"
               required
               maxlength="100">
        <div *ngIf="publishHouse.invalid && (publishHouse.dirty || publishHouse.touched)"
             class="alert alert-danger">
            <div *ngIf="publishHouse.errors.required">
                PublishHouse is required.
            </div>
            <div *ngIf="publishHouse.errors.maxlength">
                PublishHouse must be maximum 30 characters long.
            </div>
        </div>
    </div>
    <hr>

    <div class="form-group">
        <label for="fname">PublishedOn:</label><br>
        <input type="date"
               class="form-control"
               name="publishedOn"
               [(ngModel)]="book.publishedOn"
               #publishedOn="ngModel"
               required>
        <div *ngIf="publishedOn.invalid && (publishedOn.dirty || publishedOn.touched)"
             class="alert alert-danger">
            <div *ngIf="publishedOn.errors.required">
                PublishedOn is required.
            </div>
        </div>
    </div>
    <hr>

    <div class="form-group">
        <label for="fname">ImageUrl:</label><br>
        <input type="text"
               class="form-control"
               name="imageUrl"
               [(ngModel)]="book.imageUrl"
               #imageUrl="ngModel"
               required>
        <div *ngIf="imageUrl.invalid && (imageUrl.dirty || imageUrl.touched)"
             class="alert alert-danger">
            <div *ngIf="imageUrl.errors.required">
                ImageUrl is required.
            </div>
        </div>
    </div>
    <hr>

    <div class="form-group">
        <label for="fname">Author FirstName:</label><br>
        <input type="text"
               class="form-control"
               name="authorFirstName"
               [(ngModel)]="book.authorFirstName"
               #authorFirstName="ngModel"
               required>
        <div *ngIf="authorFirstName.invalid && (authorFirstName.dirty || authorFirstName.touched)"
             class="alert alert-danger">
            <div *ngIf="authorFirstName.errors.required">
                Author FirstName is required.
            </div>
        </div>
    </div>
    <hr>

    <div class="form-group">
        <label for="fname">Author LastName:</label><br>
        <input type="text"
               class="form-control"
               name="authorLastName"
               [(ngModel)]="book.authorLastName"
               #authorLastName="ngModel"
               required>
        <div *ngIf="authorLastName.invalid && (authorLastName.dirty || authorLastName.touched)"
             class="alert alert-danger">
            <div *ngIf="authorLastName.errors.required">
                Author LastName is required.
            </div>
        </div>
    </div>
    <hr>

    <div class="form-group">
        <label for="fname">Price:</label><br>
        <input type="number"
               class="form-control"
               name="price"
               [(ngModel)]="book.price"
               #price="ngModel"
               required>
        <div *ngIf="price.invalid && (price.dirty || price.touched)"
             class="alert alert-danger">
            <div *ngIf="price.errors.required">
                Price is required.
            </div>
        </div>
    </div>
    <hr>

    <div class="form-group">
        <label for="fname">Quantity:</label><br>
        <input type="number"
               class="form-control"
               name="quantity"
               [(ngModel)]="book.quantity"
               #quantity="ngModel"
               required>
        <div *ngIf="quantity.invalid && (quantity.dirty || quantity.touched)"
             class="alert alert-danger">
            <div *ngIf="quantity.errors.required">
                Quantity is required.
            </div>
        </div>
    </div>
    <hr>

    <div class="form-group">
        <label for="fname">Genre:</label><br>
        <input type="text"
               class="form-control"
               name="genre"
               [(ngModel)]="book.genre"
               #genre="ngModel"
               required>
        <div *ngIf="genre.invalid && (genre.dirty || genre.touched)"
             class="alert alert-danger">
            <div *ngIf="genre.errors.required">
                Genre is required.
            </div>
        </div>
    </div>
    <hr>

    <table class="table table-striped table-bordered">
        <tr>
            <td>Tags:</td>
        </tr>
        <tbody style="display: inline-block;">
            <tr *ngFor="let field of fieldArray; let i = index">
                <td>
                    <input name="field-{{i}}"
                           [(ngModel)]="fieldArray[i]"
                           class="form-control"
                           type="text" />
                </td>
                <td>
                    <button class="btn btn-outline-danger"
                            type="button"
                            (click)="deleteFieldValue(i)">Delete keyword</button>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="form-control"
                           type="text"
                           id="newAttributeCode"
                           [(ngModel)]="newAttribute"
                           name="newAttributeCode" />
                </td>
                <td>
                    <button class="btn btn-outline-primary"
                            type="button"
                            (click)="addRow()">Add keyword</button>
                </td>
            </tr>
        </tbody>
    </table>
    <hr>

    <div class="form-group text-center">
        <button class="btn btn-success mr-2"
                type="submit">Add</button>
        <button class="btn btn-outline-primary mr-2"
                (click)="cancel()"
                type="button">Cancel</button>
    </div>
</form>